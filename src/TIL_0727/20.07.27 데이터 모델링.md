## 20.07.27 데이터 모델링(Data modeling)

### 1. 데이터 모델링의 이해

- 데이터 모델링의 특징

  - 추상화(Abstraction)
  - 단순화(Simplification)
  - 명확성(Clarity)

  ```
  현실세계 → 고객의 업무 프로세스 이해/규칙 정의 → 데이터 모델링 표기법 → 소프트웨어 분석/설계
  ```

  

- 데이터 모델링 단계

  1. 개념적 모델링(Conceptional Data Modeling)
     - 업무측면, 복잡/기술적용어 X, 엔터티와 속성 도출, 개념적 ERD 작성
  2. 논리적 모델링(Logical Data Modeling)
     - 식별자 도출, 릴레이션 정의, 정규화
  3. 물리적 모델링(Physical Modeling)
     - DB 구축(테이블, 인덱스, 함수 생성), 성능/보안/가용성 고려



- 데이터 모델링 관점(View)
  - 데이터 : 구조/정적 분석
  - 프로세스 : 시나리오/도메인/동적 분석
  - 데이터와 프로세스 : 관계, CRUD분석



- ERD(Entity Relationship Diagram)

  > 데이터 모델링의 표준으로 사용된다.
  > 엔터티와 엔터티간의 관게를 정의하는 모델링 방법이다.

  - ERD 작성 절차
    1. 엔터티를 도출하고 그린다.
    2. 엔터티를 베치한다.
    3. 엔터티 간의 관계를 설정한다.
    4. 관계명을 서술한다.
    5. 관계 참여도를 표현한다.
    6. 관계의 필수 여부를 표현한다.
  - 중요한 엔터티는 가급적 왼쪽 상단에 배치한다.
  - 이해가 쉬워야하며 너무 복잡하지 않아야한다.



- 데이터 모델링 고려사항
  - 데이터 모델의 독립성
    - 고객의 업무 변화에 능동적 대응 가능, 중복된 데이터 제거해야함(=정규화)
  - 고객 요구사항의 표현
    - 고객과 모델러 사이에 의사소통 필요함(요구사항 간결히, 명확히 표현)
  - 데이터 품질 확보
    - 데이터 표준을 정의, 표준 준수율 관리해야함



### 2. 3층 스키마(3-Level Schema)

> 사용자, 설계자, 개발자의 관점에 따라 DB를 기술하고 관계를 정의한 ANSI 표준이다.

- DB의 독립성을 확보하기 위한 방법으로, 각 계층을 뷰(View)라고도 한다.
- 독립성 확보시 장점
  - 데이터 복잡도 증가
  - 데이터 중복 제거
  - 사용자 요구사항 변경에 따른 대응력 향상
  - 관리 및 유지보수 비용절감
- 3층 스키마의 구조
  1. 외부 스키마(External Schema) 
     - 사용자 관점, 응용 프로그램이 접근하는 DB
  2. 개념 스키마(Conceptional Schema)
     - 설계자 관점, 통합 DB 구조
  3. 내부 스키마(Internal Schema) 
     - 개발자 관점, 물리적 저장 구조

- 3층 스키마의 독립성
  - 논리적 독립성 : 개념 스키마가 변경되어도 외부 스키마가 영향X
  - 물리적 독립성 : 내부 스키마가 변겨되어도 개념 스키마가 영향X



### 3. 엔터티(Entity)

> 업무에서 관리해야 하는 데이터 집합을 의미.
> 저장되고 관리데어야 하는 데이터이며, 개념/사건/장소 등의 명사이다.

- 엔터티 도출
  - 비지니스 프로세스에서 관리되어야 하는 정보를 추출해야한다.
- 엔터티의 특징
  - 식별자 : 유일한 식별자 필요
  - 인스턴스 집합 : 2개 이상 필요
  - 속성 : 반드시 필요
  - 관계 : 다른 엔터티와 최소 1개 이상 필요
  - 업무

- 엔터티의 종류

  - 유형과 무형에 따른 분류

    - 유형 엔터티
    - 개념 엔터티 : 물리적 형태 X
    - 사건 엔터티 : 비즈니스 프로세스를 실행하면서 생성

  - 발생 시점에 따른 분류

    - 기본 엔터티(Basic Entity) 

      : 독립적으로 생성 (=키 엔터티)

    - 중심 엔터티(Main Entity)

      : 기본엔터티로부터 발생되고 행위 엔터티를 생성

    - 행위 엔터티(Active Entity)

      : 2개 이상의 엔터티로부터 발생



### 4. 속성(Attribute)

> 업무에서 필요한 정보인 엔티티가 가지는 항목.
> 더이상 분리되지 않는 단위로, 업무에 필요한 데이터를 저장할 수 있다.
> 인스턴스의 구성요소이고 의미적으로 더이상 분해되지 않는다.

- 속성의 특징
  - 업무에서 관리되는 정보이다.
  - 하나의 값만 가진다.
  - 주식별자에게 함수적으로 종속된다.
- 속성의 종류
  - 분해 여부에 따른 속성의 종류
    - 단일 속성
    - 복합 속성
    - 다중값 속성
  - 특성에 따른 속성의 종류
    - 기본 속성
    - 설계 속성
    - 파생 속성
- 도메인(Domain) : 속성이 가질 수 있는 값의 범위



### 5. 관계(Relationship)

> 엔터티 간의 관련성을 의미한다.

- 관계의 종류

  - 존재 관계
    - 엔터티 간의 상태를 의미한다.
  - 행위 관계
    - 엔터티 간에 어떤 행위가 있는 것

- 관계 차수(Relation Cardinality)

  > 엔터티간의 관계에 참여하는 수

  - 1대1 관계
    - 완전 1대1
    - 선택적 1대1 ( → 1대1 or 1대0 )
  - 1대N 관계
  - M대N 관계  : 조인(Join)은 카다시안 곱 발생
  - 필수적 관계(|)와 선택적 관계(O)

- 식별 관계와 비식별 관계

  - 식별 관계(Identification Relationship)
    - 독립적 존재 가능한 강한 개체(Strong Entity)
    - 다른 엔터티에게 기본키를 제공
    - 기본키를 공유받은 엔터티는 약한 개체(Weak Entity)
  - 비식별 관계(Non-identification Relationship)
    - 강한 개체의 기본키를 다른 엔터티가 일반 Column으로 가지는 관계
    - 점선으로 표현

### 

### 6. 엔터티 식별자(Entity Identifier)

> 엔터티를 대표할 수 있는 유일성을 만족하는 속성이다.

- 주식별자(기본키, Primary Key)
  - 최소성
  - 대표성
  - 유일성
  - 불변성
- 키의 종류
  - 기본키(Primary Key)
  - 후보키(Candidate Key)
  - 슈퍼키(Super Key)
  - 대체키(Alternate Key)
  - 외래키(Foreign Key)
- 식별자의 종류
  - 대표성 여부에 따른 종류
    - 주식별자
    - 보조 식별자
  - 생성 여부에 따른 종류
    - 내부 식별자
    - 외부 식별자
  - 속성의 수에 따른 종류
    - 단일 식별자
    - 복합 식별자
  - 대체 여부에 따른 종류
    - 본질 식별자
    - 인조 식별자